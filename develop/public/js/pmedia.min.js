var trans_media = function(tmp){
    switch (tmp)
    {
        case(1):
            return ("Facebook") ;
        case (2):
            return ("Instagram") ;
        case (3):
            return ("Line@") ;
        case (4):
            return ("Discord") ;
        case (5):
            return ("Line教學群") ;
        case (6):
            return ("Line Open chat") ;
        case (7):
            return ("Youtube") ;
        case (8):
            return ("Twitch") ;
        default:
            return ("Undefined") ;
    }
};

$(document).ready(function() {

    ajax('GET', '/api/media/list', {}, function (a) {
        if(a.success)
        {
            $('#mediaBox').empty();
            for (let i = 0; i < a.data.length; i++) {
                console.log(a.data[i]);
                if (a.data[i].image){
                    let _this = a.data[i];
                    let response = '';
                    if (i != 0) response += '<hr>';
                    response += '<div class="d-flex flex-wrap align-items-center '+ ((i % 2) ? 'flex-row-reverse' : '') +'">\
                                    <div class="box col-12 col-lg-4">\
                                        <img class="content" style="border-radius: 50%;" src="/upload/Image/'+ _this.image +'"" alt="'+ _this.link_alt +'"/>\
                                    </div>\
                                    <div class="col-12 col-lg-8 d-flex flex-column justify-content-around" style="white-sapce: break; margin-top: 20px;">\
                                        <div class="col-12" style="text-align: justify;">' + _this.content.substring(1, _this.content.length-1) + '</div>\
                                        <div style="margin-top: 20px;">\
                                            <button class="btn btn-info" onClick="window.open(\''+ _this.link +'\',\''+ _this.link_alt +'\')">'+ trans_media(_this.type) +'</button>\
                                        </div>\
                                    </div>\
                                </div>';
                    $('#mediaBox').append(response);
                }
            }
        }
    });

 });